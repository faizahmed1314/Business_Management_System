@model IEnumerable<WebApplication1.Models.Customer>

@{
    ViewBag.Title = "Index";
}

<h2>Customer Index Page</h2>

<div class="row">
    <div class="col-lg-6">
        <h2 class="text-info">Customer Index Page</h2>
    </div>
    <div class="col-lg-6">
        <h2>
            @Html.ActionLink("Create New", "Create")
        </h2>
    </div>
</div>
<br />
<table class="table table-bordered">

    <tr style="background-color: teal; color: white; font-weight: bold">
        <th>
            Serial
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Code)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Address)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ContactNumber)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.LoyaltyPoint)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.FileName)
        </th>
        <th>Action</th>
    </tr>
    @{var sl = 0; }
    @foreach (var item in Model)
    {
        using (Html.BeginForm("Delete", "Customer", new { id = item.Id }))
        {


            <tr>
                <td>
                    @(++sl)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Code)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Address)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ContactNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.LoyaltyPoint)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FileName)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |

                    <input type="submit" class="btn btn-warning" value="Delete" onclick="return confirm('Are you sure to delete this record with Id=@item.Id and Name=@item.Name')" />

                </td>
            </tr>
        }
    }

</table>
@section Scripts{
    <script type="text/javascript">
        $(function () {
            var save = '@TempData["save"]';
            var edit = '@TempData["Edit"]';
            var remove = '@TempData["delete"]';


            if (save != '') {
                alertify.success(save);
            } else if (edit != '') {
                alertify.success(edit);
            } else if (remove != '') {
                alertify.error(remove);
            }

        });
    </script>
}