@model IEnumerable<WebApplication1.Models.Product>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table table-bordered">
    @{ var sl = 0;}
    <tr>
        <th>
            Serial No
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Code)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ReOrderLevel)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Description)
        </th>
        <th>
            Image
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CategoryId)
        </th>
        <th>
            Action
        </th>
    </tr>

    @foreach (var item in Model)
    {
        using (Html.BeginForm("Delete", "Product", new { id = item.Id }))
        {


            <tr>
                <td>
                    @(++sl)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Code)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ReOrderLevel)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Description)
                </td>
                <td>
                    @{
                        var file = Convert.ToBase64String(item.File);
                        var image = string.Format("data:image/gif; base64," + file + "");
                    }
                    <img class="img-responsive img-thumbnail" src="@image" style="width: 100px; height: 100px;" />
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CategoryId)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |

                    <input type="submit" value="Delete" onclick="return confirm('Are you sure to delete this record with Id=@item.Id and Name=@item.Name');" />

                </td>
            </tr>
        }
    }

</table>
